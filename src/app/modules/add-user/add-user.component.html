<div class="flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0">
    <div class="md:flex md:items-center md:justify-end w-full sm:w-auto md:h-full md:w-1/2 py-8 px-4 sm:p-12 md:p-16 sm:rounded-2xl md:rounded-none sm:shadow md:shadow-none sm:bg-card">
        <div class="w-full max-w-80 sm:w-80 mx-auto sm:mx-0">

            <!-- Title -->
            <div class="mt-2 text-4xl font-extrabold tracking-tight leading-tight">Add User</div>

            <!-- Alert -->
            <expatswap-alert
                class="mt-8"
                *ngIf="showAlert"
                [appearance]="'outline'"
                [showIcon]="false"
                [type]="alert.type"
                [@shake]="alert.type === 'error'">
                {{alert.message}}
            </expatswap-alert>
            <!--  First name, Last name, phone number, email, password, and date of birth -->

            <!-- Add user form -->
            <form
                class="mt-2"
                [formGroup]="addUserForm"
                #addUserNgForm="ngForm">

                <!-- First Name field -->
                <mat-form-field class="w-full">
                    <mat-label>First name</mat-label>
                    <input
                        id="firstName"
                        matInput
                        [formControlName]="'firstName'">
                    <mat-error *ngIf="addUserForm.get('firstName').hasError('required')">
                        First name is required
                    </mat-error>
                </mat-form-field>

                <!-- Last Name field -->
                <mat-form-field class="w-full">
                    <mat-label>Last name</mat-label>
                    <input
                        id="lastName"
                        matInput
                        [formControlName]="'lastName'">
                    <mat-error *ngIf="addUserForm.get('lastName').hasError('required')">
                        Last name is required
                    </mat-error>
                </mat-form-field>

                <!-- Phone number field -->
                <mat-form-field class="w-full">
                    <mat-label>Phone number</mat-label>
                    <input
                        id="phoneNumber"
                        matInput
                        [formControlName]="'phoneNumber'">
                    <mat-error *ngIf="addUserForm.get('phoneNumber').hasError('required')">
                        Phone number is required
                    </mat-error>
                </mat-form-field>

                <!-- Email field -->
                <mat-form-field class="w-full">
                    <mat-label>Email address</mat-label>
                    <input
                        id="email"
                        matInput
                        [formControlName]="'email'">
                    <mat-error *ngIf="addUserForm.get('email').hasError('required')">
                        Email address is required
                    </mat-error>
                    <mat-error *ngIf="addUserForm.get('email').hasError('email')">
                        Please enter a valid email address
                    </mat-error>
                </mat-form-field>

                <!-- Password field -->
                <mat-form-field class="w-full" [class.mb-5]="addUserForm.hasError('invalidPassword')">
                    <mat-label>Password</mat-label>
                    <input
                        id="password"
                        matInput
                        type="password"
                        [formControlName]="'password'"
                        #passwordField>
                    <button
                        mat-icon-button
                        type="button"
                        (click)="passwordField.type === 'password' ? passwordField.type = 'text' : passwordField.type = 'password'"
                        matSuffix>
                        <mat-icon
                            class="icon-size-5"
                            *ngIf="passwordField.type === 'password'">visibility_off</mat-icon>
                        <mat-icon
                            class="icon-size-5"
                            *ngIf="passwordField.type === 'text'">visibility</mat-icon>
                    </button>

                    <mat-error *ngIf="addUserForm.hasError('invalidPassword')">
                        Password should contain lowercase, uppercase, number, one symbol, and 8 characters long.
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                    <mat-label>Date of birth</mat-label>
                    <input  
                    id="dateOfBirth"
                    matInput
                    [formControlName]="'dateOfBirth'"
                    #dateOfBirth matInput [matDatepicker]="picker" >
                    <mat-hint>MM/DD/YYYY</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error *ngIf="addUserForm.get('dateOfBirth').hasError('required')">
                        Date of birth is required
                    </mat-error>
                </mat-form-field>

                <!-- Submit button -->
                <button
                    class="expatswap-mat-button-large w-full mt-6"
                    mat-flat-button
                    [color]="'primary'"
                    [disabled]="addUserForm.disabled"
                    (click)="addUser()">
                    <span *ngIf="!addUserForm.disabled">
                        Add user
                    </span>
                    <mat-progress-spinner
                        *ngIf="addUserForm.disabled"
                        [diameter]="24"
                        [mode]="'indeterminate'"></mat-progress-spinner>
                </button>
          
            </form>
        </div>
    </div>
</div>

