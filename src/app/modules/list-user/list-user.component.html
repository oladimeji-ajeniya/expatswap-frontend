<div class="flex flex-col flex-auto min-w-0">

    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">

            <div class="mt-2 mb-2 text-2xl font-extrabold tracking-tight leading-tight"> User List</div>

                <form [formGroup]="searchForm" (ngSubmit)="search()" class="flex flex-wrap items-center">
                  <mat-form-field class="flex-grow mr-4">
                    <input matInput [matDatepicker]="startPicker" formControlName="startDate" placeholder="Start Age">
                    <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                    <mat-datepicker #startPicker></mat-datepicker>
                  </mat-form-field>
                  <mat-form-field class="flex-grow mr-4">
                    <input matInput [matDatepicker]="endPicker" formControlName="endDate" placeholder="End Age">
                    <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
                    <mat-datepicker #endPicker></mat-datepicker>
                  </mat-form-field>
                </form>

                <button class="expatswap-mat-button-large w-50 mb-6" mat-flat-button color="primary"
                [disabled]="searchForm.disabled"
                (click)="search()"
                 type="submit">Search</button>
                
                 <button *ngIf="isSearch" class="expatswap-mat-button-large w-30 ml-2 mb-6" mat-flat-button color="secondary"
                (click)="getUsers(1, paginator.pageSize)"
                 type="submit">Reset</button>


            <table mat-table [dataSource]="dataSource">
                <!-- ID Column -->
                <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef>ID</th>
                <td mat-cell *matCellDef="let element">{{element._id}}</td>
                </ng-container>
            
                <!-- First Name Column -->
                <ng-container matColumnDef="firstName">
                <th mat-header-cell *matHeaderCellDef>First Name</th>
                <td mat-cell *matCellDef="let element">{{element.firstName}}</td>
                </ng-container>
            
                <!-- Last Name Column -->
                <ng-container matColumnDef="lastName">
                <th mat-header-cell *matHeaderCellDef>Last Name</th>
                <td mat-cell *matCellDef="let element">{{element.lastName}}</td>
                </ng-container>
            
                <!-- Phone Number Column -->
                <ng-container matColumnDef="phoneNumber">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element">{{element.phoneNumber}}</td>
                </ng-container>
            
                <!-- Email Column -->
                <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef>Email</th>
                <td mat-cell *matCellDef="let element">{{element.email}}</td>
                </ng-container>
            
                <!-- Date of Birth Column -->
                <ng-container matColumnDef="dateOfBirth">
                  <th mat-header-cell *matHeaderCellDef>Date of Birth</th>
                  <td mat-cell *matCellDef="let element">{{ element.dateOfBirth | date: 'longDate' }}</td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

            <mat-paginator
              #paginator
              [length]="totalData"
              [pageSizeOptions]="pageSizes"
              showFirstLastButtons
            ></mat-paginator>
          
    </div>

</div>
